'''
This file takes the mural as a reference and checks if git commit + push is to be done.

argv[1] contains the number of a potential commit.
If argv[1] is higher than the mural reference, no commit is to be made:
-> sys.exit(1) tells the next command to abort.
'''

import datetime
import sys

mural = [
" ██ ███▒░░░░░░░░█▒░█▒░░░░░░░░░░░░░░░░░░░░░░░░ ▒ ▒ ▒ █░█░██▒█▒░░░░░░██████░░░░░░░░▒░░░░▒▓░░░░▓█▓░░░░░░░░░▓░░░░░▓█▓░░░░░▒▒▒▒▒▒▒▒▓▓▓▓▓▓▓▓▓▓▒▒▒▒▓▓▒▒▒▒▒░░ ░░▓▓░░░░░░░▓░░░░ ░░░▓▓▓▓  ▓▓█ ▓▓▓▓░░▓▓▓▓▓▓█░░▓▓▓█░░░▓▓▓▓  ▓▓▓█░░░░░▓▓▓▓▓▓█░░░░░▓▓▓█░░▓▓▓▓▓▓▓█░░░░░░░░░░░░░░░░░░░░░░░░░",
" █░░░█▒░░░░░░░░░█▒░█▒░░░░░░░░░░░░░░░░░░░░░░░░▒ █ ▒ █ █░██▒█▒░█▒█▒░█▓▓▓▓▓▓█░░░░▒░░░▒░░░░▒▓░░░░▓█▓░░░░░░░▓█▓░░░░░▓░░▒▒▒▒▒▒▓▓▓▓▓▓▓▓░░░░░▓▓▓▓▓▓▒▒▒▒▓▓▓▓▓▓░░░▓░▓░░░░░▓░▓░░░░ ░░▓█  ▓ ▓ █ ▓█ ▓░░░▓█ ▓█░░▓█ ▓█   ▓█  ▓ ▓ ▓█░░░▓▓▓█   ▓█░░░░░▓█ ▓█░▓     ▓█░░░░░░░░░░░░░░░░░░░░░░░░",
" █░░░█▒░░█▒░░░░░█▒░█▒░░░░███▒░█▒███▓▒███▒░░▓░░▒ ▒ ▒ █░█░██▒█▒░█▒░░█▓▒▒▒▒▓█▒░░░░▒░░░▒░░░░▒▓░░░░▓█▓░░░░▓░░▓░░░░░░░▒▒▒▒▒▓▓▓▓▓░▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▓▓▓▓▓▓▓░░░░▓▓░▓░░▓▓▓▓▓▓░▓░░░░░ ░▓█ █ ▓▓ ▓█░▓█ ▓▓▓█ ▓█░░▓█   ▓█  ▓█ █ ▓▓ ▓█░░░▓█  ▓▓▓▓█░░░░▓█   ▓█▓▓▓ ▓▓▓█░░░░░░░░░░░░░░░░░░░░░░░░",
" █████▒░░░░░░░████▒███▒░█▓▒░█▒███▓▒░█▒░░█▒░░▒░ ▒ █ ▒ █░█▒▒█▒█▒░█▒░█▓▒░ ▒▓█▒░░░░░▒░░░▒░░░░▒▓░░░░▓█▓░░▓█▓░░░▓░░░░░░░░▓▓▓▓▒▒▒▒▒▒▓▓▓▓▓▓▓▓▓▓▒▒▒▒▒░░▒▒▒▒░░░  ▓           ▓      ▓█ ▓█ ▓ ▓█░░▓█  █ █░░▓█  ▓█ ▓█  ▓█ ▓█ ▓ ▓█░░░▓█ ▓░░░░░░░░▓█ ▓█ ▓█░░▓ ▓█░░░░░░░░░░░░░░░░░░░░░░░░",
" █▒░░█▒░░█▒░░░░░█▒░█▓░█▒████▒░██▓▒░░████▒░░░▓░░ ▒ ▒ ▒░█░██▒█▒█▒░█▒█▓▒▒▒▒▓█▒░░░▒░░▒░░░▒░░░░▒▓░░░░▓█▓░░▓░░░▓█▓░░▓░░░░░░▒▒▒▒▓▓▓▓▓▓▓░░░░░▓▓▓▓▓▓▒▒▒▒▓▓▓▓▓▓▓▓▓░░░▓  ░▓  ░░▓░░░ ░▓█ ▓▓█  ▓█░░░▓▓  ▓█░░▓█      ▓█ ▓█ ▓▓█  ▓█░░░▓█ ▓▓▓▓▓█░░▓█      ▓█░▓ ▓█░░░░░░░░░░░░░░░░░░░░░░░░",
" █░ ░░▓░░█▒░░░░░█▒░█▓░█▒█▓▒░░░█▓▒░░░█▒░░░░░░░░▒░ ▒ ▒ █░██▒█▒█▒█▒░██▓▓▓▓▓▓█░░▒░░▒░░▒░░░▒░░░░▒▓░░░░▓█▓░░░░░░▓░░▓█▓░░░▒▒▒▒▓▓▓▓▓▓░░░░░░░░░░░░▓▓▓▓▓▓▓▓    ▒░▓░░░   ░   ░░▓░░ ░░▓█ ▓ ▓█ ▓█░░▓█  ▓█░░▓█░ ▓▓░░  ▓█▓█ ▓ ▓█ ▓█░░░▓▓█    ▓█░▓█ ▓▓▓   ▓█░▓ ▓█░░░░░░░░░░░░░░░░░░░░░░░░",
"███░███▓███▒░░░░▒█▒█▓░█▒░███▒░█▓▒░░░░███▒░░▓░░░░░ █ █ █░██▒█▒█▒█▒░░██████░░░░▒░░▒░░▒░░░▒░░░░▒▓░░░░▓█▓░░░░░░░░░▓░░▒▒▒▒▓▓▓▓▓░░░░░░▓▓▓▓▓░░░░░░░░      ▓▓▓▓░▓▓▓▓▓▓▓▓▓▓▓▓░░ ░░░▓▓▓▓  ▓▓▓█░░▓▓▓▓█░░▓▓ ▓▓▓▓▓▓▓▓▓█▓▓▓▓░░▓▓▓█░░░░▓▓▓▓▓▓▓█▓█ ▓▓  ▓▓▓▓▓█▓▓▓█░░░░░░░░░░░░░░░░░░░░░░░░░"
]

day_zero = datetime.datetime.strptime('2023-05-21', '%Y-%m-%d')
current_day = datetime.datetime.today()
relative_day = (current_day - day_zero).days
x = relative_day // 7
y = relative_day % 7

commit_map =  {
" ": 0,
"░": 1,
"▒": 3,
"▓": 5,
"█": 7,
}

current_commit_number = int(sys.argv[1])

commits_today = commit_map[mural[y][x]]

return_value = 0
if current_commit_number > commits_today:
    return_value = 254

sys.exit(return_value)
